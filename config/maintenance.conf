# maintenance.conf - Configuration de la maintenance pour git-mirror

# Paramètres de maintenance
MAINTENANCE_CONFIG=(
    "AUTO_UPDATE:false"
    "AUTO_CLEANUP:true"
    "AUTO_BACKUP:false"
    "AUTO_LOG_ROTATION:true"
)

# Paramètres de nettoyage
CLEANUP_CONFIG=(
    "TEMP_FILES:true"
    "CACHE_FILES:true"
    "LOG_FILES:true"
    "STATE_FILES:true"
)

# Paramètres de sauvegarde
BACKUP_CONFIG=(
    "ENABLED:false"
    "INTERVAL:86400"
    "RETENTION:7"
    "COMPRESSION:true"
)

# Paramètres de rotation des logs
LOG_ROTATION=(
    "ENABLED:true"
    "MAX_SIZE:10MB"
    "MAX_FILES:5"
    "COMPRESSION:true"
)

# Commandes de maintenance
MAINTENANCE_COMMANDS=(
    "cleanup:make clean"
    "update:git pull origin main"
    "backup:tar -czf backup-$(date +%Y%m%d).tar.gz ."
    "rotate:logrotate /etc/logrotate.d/git-mirror"
)

# Vérifications de maintenance
MAINTENANCE_CHECKS=(
    "disk_space:df -h"
    "memory_usage:free -h"
    "process_count:ps aux | grep git-mirror | wc -l"
    "log_size:du -sh logs/"
)